{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/sabin/Downloads/1/mern-social-media-master/mern-social-media-master/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/sabin/Downloads/1/mern-social-media-master/mern-social-media-master/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{PersonAddOutlined,PersonRemoveOutlined}from\"@mui/icons-material\";import{Box,IconButton,Typography,useTheme}from\"@mui/material\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{setFriends}from\"state\";import FlexBetween from\"./FlexBetween\";import UserImage from\"./UserImage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Friend=function Friend(_ref){var friendId=_ref.friendId,name=_ref.name,subtitle=_ref.subtitle,userPicturePath=_ref.userPicturePath;var dispatch=useDispatch();var navigate=useNavigate();var _useSelector=useSelector(function(state){return state.user;}),_id=_useSelector._id;var token=useSelector(function(state){return state.token;});var friends=useSelector(function(state){return state.user.friends;});var _useTheme=useTheme(),palette=_useTheme.palette;var primaryLight=palette.primary.light;var primaryDark=palette.primary.dark;var main=palette.neutral.main;var medium=palette.neutral.medium;var isFriend=friends.find(function(friend){return friend._id===friendId;});var patchFriend=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:3001/users/\".concat(_id,\"/\").concat(friendId),{method:\"PATCH\",headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\"}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;dispatch(setFriends({friends:data}));case 7:case\"end\":return _context.stop();}}},_callee);}));return function patchFriend(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(FlexBetween,{children:[/*#__PURE__*/_jsxs(FlexBetween,{gap:\"1rem\",children:[/*#__PURE__*/_jsx(UserImage,{image:userPicturePath,size:\"55px\"}),/*#__PURE__*/_jsxs(Box,{onClick:function onClick(){navigate(\"/profile/\".concat(friendId));navigate(0);},children:[/*#__PURE__*/_jsx(Typography,{color:main,variant:\"h5\",fontWeight:\"500\",sx:{\"&:hover\":{color:palette.primary.light,cursor:\"pointer\"}},children:name}),/*#__PURE__*/_jsx(Typography,{color:medium,fontSize:\"0.75rem\",children:subtitle})]})]}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return patchFriend();},sx:{backgroundColor:primaryLight,p:\"0.6rem\"},children:isFriend?/*#__PURE__*/_jsx(PersonRemoveOutlined,{sx:{color:primaryDark}}):/*#__PURE__*/_jsx(PersonAddOutlined,{sx:{color:primaryDark}})})]});};export default Friend;","map":{"version":3,"names":["PersonAddOutlined","PersonRemoveOutlined","Box","IconButton","Typography","useTheme","useDispatch","useSelector","useNavigate","setFriends","FlexBetween","UserImage","Friend","friendId","name","subtitle","userPicturePath","dispatch","navigate","state","user","_id","token","friends","palette","primaryLight","primary","light","primaryDark","dark","main","neutral","medium","isFriend","find","friend","patchFriend","fetch","method","headers","Authorization","response","json","data","color","cursor","backgroundColor","p"],"sources":["C:/Users/sabin/Downloads/1/mern-social-media-master/mern-social-media-master/client/src/components/Friend.jsx"],"sourcesContent":["import { PersonAddOutlined, PersonRemoveOutlined } from \"@mui/icons-material\";\nimport { Box, IconButton, Typography, useTheme } from \"@mui/material\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { setFriends } from \"state\";\nimport FlexBetween from \"./FlexBetween\";\nimport UserImage from \"./UserImage\";\n\nconst Friend = ({ friendId, name, subtitle, userPicturePath }) => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { _id } = useSelector((state) => state.user);\n  const token = useSelector((state) => state.token);\n  const friends = useSelector((state) => state.user.friends);\n\n  const { palette } = useTheme();\n  const primaryLight = palette.primary.light;\n  const primaryDark = palette.primary.dark;\n  const main = palette.neutral.main;\n  const medium = palette.neutral.medium;\n\n  const isFriend = friends.find((friend) => friend._id === friendId);\n\n  const patchFriend = async () => {\n    const response = await fetch(\n      `http://localhost:3001/users/${_id}/${friendId}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    const data = await response.json();\n    dispatch(setFriends({ friends: data }));\n  };\n\n  return (\n    <FlexBetween>\n      <FlexBetween gap=\"1rem\">\n        <UserImage image={userPicturePath} size=\"55px\" />\n        <Box\n          onClick={() => {\n            navigate(`/profile/${friendId}`);\n            navigate(0);\n          }}\n        >\n          <Typography\n            color={main}\n            variant=\"h5\"\n            fontWeight=\"500\"\n            sx={{\n              \"&:hover\": {\n                color: palette.primary.light,\n                cursor: \"pointer\",\n              },\n            }}\n          >\n            {name}\n          </Typography>\n          <Typography color={medium} fontSize=\"0.75rem\">\n            {subtitle}\n          </Typography>\n        </Box>\n      </FlexBetween>\n      <IconButton\n        onClick={() => patchFriend()}\n        sx={{ backgroundColor: primaryLight, p: \"0.6rem\" }}\n      >\n        {isFriend ? (\n          <PersonRemoveOutlined sx={{ color: primaryDark }} />\n        ) : (\n          <PersonAddOutlined sx={{ color: primaryDark }} />\n        )}\n      </IconButton>\n    </FlexBetween>\n  );\n};\n\nexport default Friend;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}